<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Agent SDK - Interactive Demo</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <h1>ğŸ¤– Universal Agent SDK</h1>
        <p class="subtitle">Hardware-Aware AI Agent Platform</p>
        <div class="header-badges">
          <span class="badge">TypeScript</span>
          <span class="badge">Hardware Detection</span>
          <span class="badge">Multi-Model</span>
          <span class="badge">RAG Memory</span>
        </div>
      </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
      <button class="nav-btn" data-tab="overview">Overview</button>
      <button class="nav-btn active" data-tab="agent-editor">ğŸ›ï¸ Agent Editor</button>
      <button class="nav-btn" data-tab="chat">ğŸ’¬ Iterative Chat</button>
      <button class="nav-btn" data-tab="files">ğŸ“ File Manager</button>
      <button class="nav-btn" data-tab="scraper">ğŸ•·ï¸ Scraper Builder</button>
      <button class="nav-btn" data-tab="metrics">ğŸ“Š Metrics</button>
      <button class="nav-btn" data-tab="hardware">Hardware Detection</button>
      <button class="nav-btn" data-tab="playground">Playground</button>
    </nav>

    <!-- Content Sections -->
    <main class="content">
      <!-- Overview Tab -->
      <section id="overview" class="tab-content">
        <div class="hero">
          <h2>Build Intelligent Agents That Adapt to Hardware</h2>
          <p>Universal Agent SDK automatically detects available AI inference options (Ollama, GPU, WebGPU) and optimizes configuration for maximum performance.</p>
        </div>

        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸ”</div>
            <h3>Hardware Detection</h3>
            <p>Automatically detects Ollama models, GPU VRAM, and WebGPU support</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">âš™ï¸</div>
            <h3>Smart Configuration</h3>
            <p>4 presets (maximum, balanced, gpu, minimal) with automatic optimization</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ§ </div>
            <h3>RAG Memory</h3>
            <p>Episodic memory with keyword-based similarity search</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ“š</div>
            <h3>Knowledge Base</h3>
            <p>Learn from successes and failures, domain-specific patterns</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ”„</div>
            <h3>Multi-Model</h3>
            <p>Ollama primary, WebGPU fallback, cloud backup</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ“Š</div>
            <h3>Token Management</h3>
            <p>Real-time estimates with CPU risk assessment</p>
          </div>
        </div>

        <div class="quick-start">
          <h3>Quick Start</h3>
          <pre><code>import { UniversalAgent } from 'universal-agent-sdk';

const agent = new UniversalAgent({
  mode: 'web-scraper',
  preset: 'balanced'
});

await agent.initialize();
const response = await agent.execute({
  task: 'Scrape product data',
  context: { url: 'https://example.com' }
});
</code></pre>
        </div>
      </section>

      <!-- Agent Editor Tab -->
      <section id="agent-editor" class="tab-content active">
        <div id="agent-editor-container"></div>
      </section>

      <!-- Iterative Chat Tab -->
      <section id="chat" class="tab-content">
        <div id="chat-container"></div>
      </section>

      <!-- File Manager Tab -->
      <section id="files" class="tab-content">
        <div id="file-manager-container"></div>
      </section>

      <!-- Scraper Builder Tab -->
      <section id="scraper" class="tab-content">
        <div id="scraper-builder-container"></div>
      </section>

      <!-- Metrics Dashboard Tab -->
      <section id="metrics" class="tab-content">
        <div id="metrics-dashboard-container"></div>
      </section>

      <!-- Hardware Detection Tab -->
      <section id="hardware" class="tab-content">
        <h2>Hardware Detection</h2>
        <p>Automatically detect available AI inference hardware and models</p>
        
        <div class="demo-section">
          <button id="detect-hardware-btn" class="btn btn-primary">ğŸ” Detect Hardware</button>
          <div id="hardware-loading" class="loading hidden">Detecting hardware...</div>
          <div id="hardware-results" class="results hidden"></div>
        </div>

        <div class="info-box">
          <h4>What gets detected?</h4>
          <ul>
            <li><strong>Ollama:</strong> Checks localhost:11434 for installed models and context limits</li>
            <li><strong>GPU:</strong> Detects VRAM, vendor, and suitability for AI workloads</li>
            <li><strong>WebGPU:</strong> Browser-based GPU inference capability</li>
            <li><strong>Recommendations:</strong> Suggests optimal configuration based on hardware</li>
          </ul>
        </div>
      </section>

      <!-- Configuration Tab -->
      <section id="config" class="tab-content">
        <h2>Configuration Management</h2>
        <p>Test different intelligence presets and see token estimates</p>

        <div class="demo-section">
          <div class="preset-selector">
            <h3>Select Preset</h3>
            <div class="preset-buttons">
              <button class="preset-btn" data-preset="minimal">
                <div class="preset-name">Minimal</div>
                <div class="preset-desc">Basic features only</div>
              </button>
              <button class="preset-btn active" data-preset="balanced">
                <div class="preset-name">Balanced</div>
                <div class="preset-desc">Good mix of features</div>
              </button>
              <button class="preset-btn" data-preset="maximum">
                <div class="preset-name">Maximum</div>
                <div class="preset-desc">All features enabled</div>
              </button>
              <button class="preset-btn" data-preset="gpu">
                <div class="preset-name">GPU</div>
                <div class="preset-desc">GPU-optimized</div>
              </button>
            </div>
          </div>

          <div id="config-loading" class="loading hidden">Initializing agent...</div>
          <div id="config-results" class="results hidden"></div>
        </div>

        <div class="info-box">
          <h4>Preset Comparison</h4>
          <table class="preset-table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>Minimal</th>
                <th>Balanced</th>
                <th>Maximum</th>
                <th>GPU</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>RAG Memory</td>
                <td>âŒ</td>
                <td>âœ… (2 episodes)</td>
                <td>âœ… (3 episodes)</td>
                <td>âœ… (1 episode)</td>
              </tr>
              <tr>
                <td>Knowledge Base</td>
                <td>âŒ</td>
                <td>âœ…</td>
                <td>âœ…</td>
                <td>âŒ</td>
              </tr>
              <tr>
                <td>Context Guides</td>
                <td>âœ… (1 guide)</td>
                <td>âœ… (2 guides)</td>
                <td>âœ… (3 guides)</td>
                <td>âœ… (1 guide)</td>
              </tr>
              <tr>
                <td>HTML Context</td>
                <td>3K chars</td>
                <td>5K chars</td>
                <td>10K chars</td>
                <td>2K chars</td>
              </tr>
              <tr>
                <td>Token Est.</td>
                <td>~2,050</td>
                <td>~4,150</td>
                <td>~6,150</td>
                <td>~2,050</td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Execute Tab -->
      <section id="execute" class="tab-content">
        <h2>Execute AI Tasks</h2>
        <p>Run real AI tasks with the agent</p>

        <div class="demo-section">
          <div class="task-form">
            <h3>Configure Task</h3>
            <div class="form-group">
              <label>Task Type</label>
              <select id="task-type">
                <option value="web-scraper">Web Scraper</option>
                <option value="data-analysis">Data Analysis</option>
                <option value="code-generation">Code Generation</option>
                <option value="chatbot">Chatbot Response</option>
              </select>
            </div>
            <div class="form-group">
              <label>Task Description</label>
              <textarea id="task-input" rows="4" placeholder="E.g., Generate a web scraper to extract product prices from e-commerce sites"></textarea>
            </div>
            <div class="form-group">
              <label>Context (Optional)</label>
              <textarea id="context-input" rows="4" placeholder='{"url": "https://example.com", "fields": ["title", "price"]}'></textarea>
            </div>
            <button id="execute-btn" class="btn btn-primary">ğŸš€ Execute Task</button>
          </div>

          <div id="execute-loading" class="loading hidden">
            <div class="spinner"></div>
            <div>Executing task...</div>
            <div id="execute-progress" class="progress-text"></div>
          </div>
          <div id="execute-results" class="results hidden"></div>
        </div>
      </section>

      <!-- Memory Tab -->
      <section id="memory" class="tab-content">
        <h2>Memory & Learning</h2>
        <p>Explore RAG memory, knowledge base, and conversation history</p>

        <div class="memory-grid">
          <div class="memory-card">
            <h3>ğŸ“ RAG Memory</h3>
            <p>Store and recall similar episodes</p>
            <button class="btn btn-secondary" id="test-rag-btn">Test RAG Memory</button>
            <div id="rag-results" class="results hidden"></div>
          </div>

          <div class="memory-card">
            <h3>ğŸ“š Knowledge Base</h3>
            <p>Learn from successes and failures</p>
            <button class="btn btn-secondary" id="test-kb-btn">Test Knowledge Base</button>
            <div id="kb-results" class="results hidden"></div>
          </div>

          <div class="memory-card">
            <h3>ğŸ’¬ Conversation Memory</h3>
            <p>Track chat history across sessions</p>
            <button class="btn btn-secondary" id="test-conv-btn">Test Conversation</button>
            <div id="conv-results" class="results hidden"></div>
          </div>
        </div>

        <div class="info-box">
          <h4>Memory System Architecture</h4>
          <ul>
            <li><strong>RAG Memory:</strong> Keyword-based similarity search (semantic embeddings disabled due to CSP)</li>
            <li><strong>Knowledge Base:</strong> Domain-specific patterns, success/failure tracking</li>
            <li><strong>Conversation Memory:</strong> Session-based chat history with stats</li>
            <li><strong>Prompt Optimizer:</strong> Compress prompts to fit token limits</li>
          </ul>
        </div>
      </section>

      <!-- Playground Tab -->
      <section id="playground" class="tab-content">
        <h2>ğŸ® Interactive Playground</h2>
        <p>Experiment with all SDK features in real-time</p>

        <div class="playground-container">
          <div class="playground-controls">
            <h3>Agent Configuration</h3>
            <div class="form-group">
              <label>Mode</label>
              <select id="pg-mode">
                <option value="web-scraper">Web Scraper</option>
                <option value="data-analyst">Data Analyst</option>
                <option value="chatbot">Chatbot</option>
              </select>
            </div>
            <div class="form-group">
              <label>Preset</label>
              <select id="pg-preset">
                <option value="minimal">Minimal</option>
                <option value="balanced" selected>Balanced</option>
                <option value="maximum">Maximum</option>
                <option value="gpu">GPU</option>
              </select>
            </div>
            <button id="pg-init-btn" class="btn btn-primary">Initialize Agent</button>

            <div id="pg-status" class="status-box hidden"></div>
          </div>

          <div class="playground-output">
            <h3>Live Output</h3>
            <div id="pg-console" class="console">
              <div class="console-line">Ready to initialize agent...</div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <p>Universal Agent SDK v1.0.0 | Built with TypeScript, Rollup, Jest</p>
      <div class="footer-links">
        <a href="https://github.com/kirbyniko/New-folder--3-/tree/main/universal-agent-sdk">GitHub</a>
        <a href="../universal-agent-sdk/examples/README.md">Examples</a>
        <a href="../universal-agent-sdk/TEST_RESULTS.md">Test Results</a>
      </div>
    </footer>
  </div>

  <script type="module" src="/main-new.js"></script>
</body>
</html>
