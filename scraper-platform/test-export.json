{
  "name": "Honolulu City Council Calendar",
  "description": "Scrapes meeting events from Honolulu City Council calendar",
  "jurisdiction": "Honolulu",
  "stateCode": "HI",
  "level": "local",
  "baseUrl": "https://www.honolulu.gov",
  "startUrl": "https://www.honolulu.gov/clerk/clk-council-calendar/",
  "requiresPuppeteer": false,
  "active": true,
  "metadata": {
    "timezone": "Pacific/Honolulu",
    "calendarType": "monthly",
    "contactEmail": "clerk@honolulu.gov"
  },
  "navigationSteps": [
    {
      "stepOrder": 1,
      "stepType": "wait",
      "selector": null,
      "xpath": null,
      "actionValue": null,
      "waitForSelector": ".calendar-container",
      "waitTime": 2000,
      "comment": "Wait for calendar to load",
      "isRequired": true
    }
  ],
  "pageStructures": [
    {
      "pageType": "calendar",
      "pageName": "Monthly Calendar View",
      "containerSelector": ".calendar-events",
      "itemSelector": ".event-item",
      "hasPagination": true,
      "nextButtonSelector": ".next-month-btn",
      "prevButtonSelector": ".prev-month-btn",
      "comment": "Main calendar page with monthly view",
      "fields": [
        {
          "fieldName": "eventName",
          "fieldType": "text",
          "fieldOrder": 1,
          "isRequired": true,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": "trim",
          "comment": "Meeting title",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "click",
              "selector": ".event-card",
              "xpath": null,
              "attributeName": null,
              "waitAfter": 500,
              "comment": "Click event card to open modal"
            },
            {
              "stepOrder": 2,
              "actionType": "extract",
              "selector": ".modal-title h2",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": "Extract title from modal"
            }
          ]
        },
        {
          "fieldName": "eventDate",
          "fieldType": "date",
          "fieldOrder": 2,
          "isRequired": true,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": "parse_date",
          "comment": "Meeting date",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".event-date",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": "Extract date directly from event card"
            }
          ]
        },
        {
          "fieldName": "eventTime",
          "fieldType": "text",
          "fieldOrder": 3,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "Meeting time",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".event-time",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": "Extract time from event card"
            }
          ]
        },
        {
          "fieldName": "eventLocation",
          "fieldType": "text",
          "fieldOrder": 4,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "Meeting location",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "click",
              "selector": ".event-card",
              "xpath": null,
              "attributeName": null,
              "waitAfter": 500,
              "comment": null
            },
            {
              "stepOrder": 2,
              "actionType": "extract",
              "selector": ".modal-location",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": null
            }
          ]
        },
        {
          "fieldName": "eventUrl",
          "fieldType": "url",
          "fieldOrder": 5,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "Link to event details",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".event-card a",
              "xpath": null,
              "attributeName": "href",
              "waitAfter": null,
              "comment": "Extract href attribute"
            }
          ]
        },
        {
          "fieldName": "docketUrl",
          "fieldType": "url",
          "fieldOrder": 6,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "Link to PDF agenda",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "click",
              "selector": ".event-card",
              "xpath": null,
              "attributeName": null,
              "waitAfter": 500,
              "comment": null
            },
            {
              "stepOrder": 2,
              "actionType": "extract",
              "selector": ".modal-documents a.pdf-link",
              "xpath": null,
              "attributeName": "href",
              "waitAfter": null,
              "comment": null
            }
          ]
        },
        {
          "fieldName": "committee",
          "fieldType": "text",
          "fieldOrder": 7,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": "trim",
          "comment": "Committee name",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".event-committee",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": null
            }
          ]
        }
      ]
    },
    {
      "pageType": "detail",
      "pageName": "Event Detail Page",
      "containerSelector": null,
      "itemSelector": null,
      "hasPagination": false,
      "nextButtonSelector": null,
      "prevButtonSelector": null,
      "comment": "Individual event page with full details (if navigating from list)",
      "fields": [
        {
          "fieldName": "fullDescription",
          "fieldType": "html",
          "fieldOrder": null,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "Full HTML description",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".event-description",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": null
            }
          ]
        },
        {
          "fieldName": "attendees",
          "fieldType": "text",
          "fieldOrder": null,
          "isRequired": false,
          "defaultValue": null,
          "validationRegex": null,
          "transformation": null,
          "comment": "List of attendees",
          "selectorSteps": [
            {
              "stepOrder": 1,
              "actionType": "extract",
              "selector": ".attendee-list",
              "xpath": null,
              "attributeName": null,
              "waitAfter": null,
              "comment": null
            }
          ]
        }
      ]
    }
  ],
  "conditions": [
    {
      "conditionName": "Check for modal",
      "conditionType": "element_exists",
      "selector": ".modal-dialog",
      "expectedValue": null,
      "actionOnTrue": "use_alternative",
      "actionOnFalse": "skip",
      "alternativeSelector": ".event-inline-details",
      "comment": "Use alternative selector if modal doesn't exist"
    }
  ]
}