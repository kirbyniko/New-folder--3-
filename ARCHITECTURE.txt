```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                    CIVITRON PRODUCTION ARCHITECTURE                    â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ğŸ‘¥ USERS                                   â”‚
â”‚                    https://civitron.netlify.app                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ HTTPS Requests
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ“± FRONTEND (React)                             â”‚
â”‚                       Hosted on Netlify CDN                             â”‚
â”‚                                                                         â”‚
â”‚  â€¢ Single Page Application                                             â”‚
â”‚  â€¢ Static files served globally                                        â”‚
â”‚  â€¢ Makes API calls to backend functions                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ API Calls
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸŒ API BACKEND (Netlify Functions)                 â”‚
â”‚                         Serverless, Auto-scaling                        â”‚
â”‚                                                                         â”‚
â”‚  Functions:                              Read-Only Database Access     â”‚
â”‚  â”œâ”€ /.netlify/functions/state-events     â”€â”                           â”‚
â”‚  â”œâ”€ /.netlify/functions/congress-meetings â”œâ”€â”€â”€ Query PostgreSQL       â”‚
â”‚  â”œâ”€ /.netlify/functions/local-meetings    â”‚                           â”‚
â”‚  â”œâ”€ /.netlify/functions/top-events        â”€â”˜                           â”‚
â”‚  â””â”€ /.netlify/functions/admin-events                                   â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’° Cost: FREE (125K invocations/month free tier)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ SELECT queries (Read-Only)
                                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ğŸ—„ï¸  POSTGRESQL DATABASE (Cloud)                       â”‚
â”‚                    Supabase / Neon / Railway                            â”‚
â”‚                                                                         â”‚
â”‚  Tables:                                                                â”‚
â”‚  â”œâ”€ events              (legislative events)                           â”‚
â”‚  â”œâ”€ bills               (associated bills)                             â”‚
â”‚  â””â”€ scraper_health      (monitoring logs)                              â”‚
â”‚                                                                         â”‚
â”‚  ğŸŒ Cloud-hosted, accessible from:                                     â”‚
â”‚     â€¢ API Backend (Netlify)     [READ]                                 â”‚
â”‚     â€¢ Scraper Backend (Your PC) [WRITE]                                â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’° Cost: FREE (Supabase 500MB / Neon 3GB free tier)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                                 â”‚ INSERT/DELETE queries (Write Operations)
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ğŸ–¥ï¸  SCRAPER BACKEND (Your PC)                        â”‚
â”‚                        Node.js Service + Cron                           â”‚
â”‚                                                                         â”‚
â”‚  Responsibilities:                                                      â”‚
â”‚  â”œâ”€ Scrape all 50 states + DC legislative websites                     â”‚
â”‚  â”œâ”€ Process and validate data                                          â”‚
â”‚  â”œâ”€ Insert events into PostgreSQL                                      â”‚
â”‚  â”œâ”€ Clean up old events (>24 hours)                                    â”‚
â”‚  â””â”€ Log scraper health metrics                                         â”‚
â”‚                                                                         â”‚
â”‚  â° Schedule: Every 24 hours at 3:00 AM                                â”‚
â”‚  ğŸ“¦ Batch processing: 5 states at a time                               â”‚
â”‚  ğŸ”„ Auto-restart on failure (with PM2)                                 â”‚
â”‚                                                                         â”‚
â”‚  Location: scraper-backend/                                            â”‚
â”‚  Start: npm start (or setup as Windows Service)                        â”‚
â”‚                                                                         â”‚
â”‚  ğŸ’° Cost: FREE (runs on your hardware)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                               DATA FLOW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

WRITE PATH (Daily at 3 AM):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   State      â”‚â”€â”€â”€â”€â–¶â”‚   Scraper     â”‚â”€â”€â”€â”€â–¶â”‚  PostgreSQL  â”‚
â”‚  Websites    â”‚     â”‚   Backend     â”‚     â”‚   Database   â”‚
â”‚ (50 states)  â”‚     â”‚  (Your PC)    â”‚     â”‚   (Cloud)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      HTTP              Parse HTML           INSERT events
    requests           Extract data         UPDATE scraper_health


READ PATH (24/7, on-demand):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Users      â”‚â”€â”€â”€â”€â–¶â”‚     API       â”‚â”€â”€â”€â”€â–¶â”‚  PostgreSQL  â”‚
â”‚  (Browser)   â”‚     â”‚   Backend     â”‚     â”‚   Database   â”‚
â”‚              â”‚â—€â”€â”€â”€â”€â”‚  (Netlify)    â”‚â—€â”€â”€â”€â”€â”‚   (Cloud)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   HTTPS request      Execute function      SELECT queries
   JSON response      Rate limiting         Cached results


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                            KEY ADVANTAGES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… COST EFFICIENT
   â€¢ Scraping runs on your PC (free compute)
   â€¢ API uses Netlify free tier (125K requests/month)
   â€¢ Database uses free tier (Supabase/Neon)
   â€¢ Total: $0/month for hobby use

âœ… FAST & RELIABLE
   â€¢ API only reads from database (sub-100ms)
   â€¢ No scraping delays for users
   â€¢ Cached data updated daily

âœ… SCALABLE
   â€¢ API backend auto-scales with traffic
   â€¢ Database can be upgraded independently
   â€¢ Frontend served from global CDN

âœ… MAINTAINABLE
   â€¢ Scraper logic separate from API logic
   â€¢ Update scrapers without touching cloud
   â€¢ Easy to debug and monitor


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
                          DEPLOYMENT CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. â˜ Setup Cloud PostgreSQL (Supabase/Neon)
   â””â”€ Run database/schema.sql

2. â˜ Deploy API Backend to Netlify
   â”œâ”€ Push code to GitHub
   â”œâ”€ Connect repo to Netlify
   â””â”€ Configure environment variables

3. â˜ Setup Scraper Backend on Your PC
   â”œâ”€ cd scraper-backend
   â”œâ”€ npm install
   â”œâ”€ Configure .env
   â”œâ”€ npm test (verify connection)
   â””â”€ npm start (or setup PM2)

4. â˜ Verify Everything Works
   â”œâ”€ Check database has events
   â”œâ”€ Test API endpoints
   â””â”€ Load frontend

ğŸ“š See PRODUCTION_DEPLOYMENT.md for detailed steps
```
